<svg xmlns="http://www.w3.org/2000/svg" width="801px" height="721px" viewBox="-0.5 -0.5 801 721">
<defs/>
<g>
  <!-- インターネット -->
  <ellipse cx="400" cy="40" rx="60" ry="30" fill="#e1f5ff" stroke="#01579b" stroke-width="2"/>
  <text x="400" y="45" text-anchor="middle" font-size="14" font-family="Helvetica" fill="#01579b">インターネット</text>

  <!-- VPC -->
  <rect x="40" y="120" width="720" height="580" rx="9" ry="9" fill="none" stroke="#147eba" stroke-width="2" stroke-dasharray="3 3"/>
  <text x="50" y="140" font-size="12" font-family="Helvetica" fill="#147eba">VPC (10.0.0.0/16)</text>

  <!-- ALB -->
  <rect x="300" y="160" width="200" height="60" rx="6" ry="6" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="400" y="185" text-anchor="middle" font-size="13" font-family="Helvetica" font-weight="bold" fill="#1976d2">ALB</text>
  <text x="400" y="205" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#333">Application Load Balancer</text>

  <!-- パブリックサブネット1 -->
  <rect x="80" y="260" width="300" height="180" rx="6" ry="6" fill="none" stroke="#82b366" stroke-width="2" stroke-dasharray="3 3"/>
  <text x="90" y="280" font-size="11" font-family="Helvetica" fill="#82b366">パブリックサブネット1 (10.0.1.0/24)</text>
  <text x="90" y="295" font-size="10" font-family="Helvetica" fill="#82b366">ap-northeast-1a</text>

  <!-- EC2インスタンス1（改善：ダウンサイジング） -->
  <rect x="110" y="320" width="240" height="100" rx="6" ry="6" fill="#c8e6c9" stroke="#388e3c" stroke-width="2"/>
  <text x="230" y="345" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold" fill="#388e3c">✓ EC2 (t3.small)</text>
  <text x="230" y="365" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#333">Webサーバー (Nginx)</text>
  <text x="230" y="385" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#333">アプリケーション (Django)</text>
  <text x="230" y="405" text-anchor="middle" font-size="9" font-family="Helvetica" fill="#2e7d32">ダウンサイジング</text>

  <!-- パブリックサブネット2 -->
  <rect x="420" y="260" width="300" height="180" rx="6" ry="6" fill="none" stroke="#82b366" stroke-width="2" stroke-dasharray="3 3"/>
  <text x="430" y="280" font-size="11" font-family="Helvetica" fill="#82b366">パブリックサブネット2 (10.0.2.0/24)</text>
  <text x="430" y="295" font-size="10" font-family="Helvetica" fill="#82b366">ap-northeast-1c</text>

  <!-- EC2インスタンス2（改善：ダウンサイジング） -->
  <rect x="450" y="320" width="240" height="100" rx="6" ry="6" fill="#c8e6c9" stroke="#388e3c" stroke-width="2"/>
  <text x="570" y="345" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold" fill="#388e3c">✓ EC2 (t3.small)</text>
  <text x="570" y="365" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#333">Webサーバー (Nginx)</text>
  <text x="570" y="385" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#333">アプリケーション (Django)</text>
  <text x="570" y="405" text-anchor="middle" font-size="9" font-family="Helvetica" fill="#2e7d32">ダウンサイジング</text>

  <!-- プライベートサブネット1（改善） -->
  <rect x="80" y="480" width="300" height="180" rx="6" ry="6" fill="none" stroke="#9575cd" stroke-width="2" stroke-dasharray="3 3"/>
  <text x="90" y="500" font-size="11" font-family="Helvetica" fill="#9575cd">✓ プライベートサブネット1</text>
  <text x="90" y="515" font-size="10" font-family="Helvetica" fill="#9575cd">(10.0.11.0/24) - ap-northeast-1a</text>

  <!-- RDS Primary（改善：プライベート化 + Multi-AZ） -->
  <rect x="110" y="540" width="240" height="100" rx="6" ry="6" fill="#c8e6c9" stroke="#388e3c" stroke-width="3"/>
  <text x="230" y="565" text-anchor="middle" font-size="12" font-family="Helvetica" font-weight="bold" fill="#388e3c">✓ RDS PostgreSQL 15</text>
  <text x="230" y="585" text-anchor="middle" font-size="10" font-family="Helvetica" fill="#2e7d32">db.t3.medium (Multi-AZ)</text>
  <text x="230" y="605" text-anchor="middle" font-size="9" font-family="Helvetica" fill="#2e7d32">パブリックアクセス無効</text>
  <text x="230" y="625" text-anchor="middle" font-size="9" font-family="Helvetica" fill="#2e7d32">SG: EC2のSGのみ許可</text>

  <!-- プライベートサブネット2（改善） -->
  <rect x="420" y="480" width="300" height="180" rx="6" ry="6" fill="none" stroke="#9575cd" stroke-width="2" stroke-dasharray="3 3"/>
  <text x="430" y="500" font-size="11" font-family="Helvetica" fill="#9575cd">✓ プライベートサブネット2</text>
  <text x="430" y="515" font-size="10" font-family="Helvetica" fill="#9575cd">(10.0.12.0/24) - ap-northeast-1c</text>

  <!-- 接続線 -->
  <path d="M 400 70 L 400 160" fill="none" stroke="#666" stroke-width="2"/>
  <path d="M 400 220 L 230 320" fill="none" stroke="#666" stroke-width="2"/>
  <path d="M 400 220 L 570 320" fill="none" stroke="#666" stroke-width="2"/>
  <path d="M 230 420 L 230 540" fill="none" stroke="#388e3c" stroke-width="2" stroke-dasharray="3 3"/>
  <path d="M 570 420 L 230 540" fill="none" stroke="#388e3c" stroke-width="2" stroke-dasharray="3 3"/>

  <!-- 改善ポイントの凡例 -->
  <rect x="600" y="140" width="160" height="120" rx="4" ry="4" fill="#f1f8e9" stroke="#689f38" stroke-width="1"/>
  <text x="680" y="160" text-anchor="middle" font-size="11" font-family="Helvetica" font-weight="bold" fill="#689f38">改善ポイント</text>
  <text x="610" y="180" font-size="9" font-family="Helvetica" fill="#333">✓ プライベートサブネット作成</text>
  <text x="610" y="195" font-size="9" font-family="Helvetica" fill="#333">✓ RDSプライベート化</text>
  <text x="610" y="210" font-size="9" font-family="Helvetica" fill="#333">✓ Multi-AZ構成</text>
  <text x="610" y="225" font-size="9" font-family="Helvetica" fill="#333">✓ EC2ダウンサイジング</text>
  <text x="610" y="240" font-size="9" font-family="Helvetica" fill="#333">✓ セキュリティグループ改善</text>
</g>
</svg>
