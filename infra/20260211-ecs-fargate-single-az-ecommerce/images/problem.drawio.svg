<svg xmlns="http://www.w3.org/2000/svg" width="720px" height="580px" viewBox="-0.5 -0.5 720 580">
<defs/>
<g>
  <!-- インターネット -->
  <ellipse cx="360" cy="35" rx="65" ry="28" fill="#e1f5ff" stroke="#01579b"/>
  <text x="360" y="40" text-anchor="middle" font-size="13" fill="#01579b">インターネット</text>

  <!-- VPC -->
  <rect x="30" y="90" width="660" height="470" rx="9" ry="9"
        fill="none" stroke="#147eba" stroke-dasharray="3 3"/>
  <text x="40" y="110" font-size="11" fill="#147eba">VPC (10.0.0.0/16) - ap-northeast-1</text>

  <!-- パブリックサブネット 1a -->
  <rect x="50" y="125" width="300" height="170" rx="6" ry="6"
        fill="none" stroke="#82b366" stroke-dasharray="3 3"/>
  <text x="60" y="143" font-size="10" fill="#82b366">パブリックサブネット 1a</text>

  <!-- パブリックサブネット 1c -->
  <rect x="370" y="125" width="300" height="170" rx="6" ry="6"
        fill="none" stroke="#82b366" stroke-dasharray="3 3"/>
  <text x="380" y="143" font-size="10" fill="#82b366">パブリックサブネット 1c</text>

  <!-- ALB -->
  <rect x="200" y="155" width="320" height="50" rx="6" ry="6"
        fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="360" y="175" text-anchor="middle" font-size="12" font-weight="bold" fill="#1976d2">ALB</text>
  <text x="360" y="195" text-anchor="middle" font-size="10" fill="#666">HTTP (80) のみ</text>

  <!-- ECS Fargate タスク 1a -->
  <rect x="80" y="225" width="240" height="55" rx="6" ry="6"
        fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
  <text x="200" y="248" text-anchor="middle" font-size="11" font-weight="bold" fill="#1976d2">ECS Fargate タスク</text>
  <text x="200" y="268" text-anchor="middle" font-size="10" fill="#666">0.5 vCPU / 1GB / 固定2タスク</text>

  <!-- ECS Fargate タスク 1c -->
  <rect x="400" y="225" width="240" height="55" rx="6" ry="6"
        fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
  <text x="520" y="248" text-anchor="middle" font-size="11" font-weight="bold" fill="#1976d2">ECS Fargate タスク</text>
  <text x="520" y="268" text-anchor="middle" font-size="10" fill="#666">0.5 vCPU / 1GB / 固定2タスク</text>

  <!-- プライベートサブネット 1a のみ -->
  <rect x="50" y="330" width="300" height="210" rx="6" ry="6"
        fill="none" stroke="#f9a825" stroke-dasharray="3 3"/>
  <text x="60" y="348" font-size="10" fill="#f9a825">プライベートサブネット 1a のみ</text>

  <!-- RDS -->
  <rect x="90" y="370" width="220" height="80" rx="6" ry="6"
        fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="200" y="395" text-anchor="middle" font-size="12" font-weight="bold" fill="#1976d2">RDS PostgreSQL</text>
  <text x="200" y="415" text-anchor="middle" font-size="10" fill="#666">db.t4g.small / Single-AZ</text>
  <text x="200" y="435" text-anchor="middle" font-size="10" fill="#666">バックアップ無効 / 暗号化無効</text>

  <!-- 1c側にRDSなし表示 -->
  <rect x="370" y="330" width="300" height="210" rx="6" ry="6"
        fill="none" stroke="#ccc" stroke-dasharray="3 3"/>
  <text x="520" y="430" text-anchor="middle" font-size="12" fill="#ccc">プライベートサブネットなし</text>

  <!-- セキュリティグループ注記 -->
  <rect x="80" y="480" width="560" height="55" rx="4" ry="4"
        fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
  <text x="360" y="500" text-anchor="middle" font-size="10" fill="#e65100">セキュリティグループ: ALB (0.0.0.0/0→80) / ECS (0.0.0.0/0→8080) / RDS (0.0.0.0/0→5432)</text>
  <text x="360" y="520" text-anchor="middle" font-size="10" fill="#e65100">環境変数にDB接続情報をハードコード / WAF未導入 / HTTPS未対応</text>

  <!-- 接続線 -->
  <path d="M 360 63 L 360 155" fill="none" stroke="#666" stroke-width="1.5"/>
  <path d="M 300 205 L 200 225" fill="none" stroke="#666" stroke-width="1"/>
  <path d="M 420 205 L 520 225" fill="none" stroke="#666" stroke-width="1"/>
  <path d="M 200 280 L 200 370" fill="none" stroke="#666" stroke-width="1"/>
  <path d="M 520 280 L 200 370" fill="none" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>
</g>
</svg>
